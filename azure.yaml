# Azure Developer CLI (azd) configuration
# This file describes the app architecture and deployment configuration
# Deploy with: azd up

name: podebaterap

metadata:
  template: azd-aspire-starter

# Aspire-based deployment - azd generates infra from the AppHost
infra:
  provider: bicep
  path: infra

# Services are auto-discovered from Aspire AppHost
services:
  web:
    project: ./src/PoDebateRap.Web
    language: dotnet
    host: containerapp
    
# Azure configuration
azure:
  # Use existing resources from PoShared resource group
  resourceGroup: PoDebateRap
  
hooks:
  # Pre-provision hook to set subscription
  preprovision:
    shell: pwsh
    run: |
      Write-Host "Using subscription: Punkouter26 (bbb8dfbe-9169-432f-9b7a-fbf861b51037)"
      Write-Host "Resource group: PoDebateRap"
      Write-Host "Shared resources from: PoShared"
