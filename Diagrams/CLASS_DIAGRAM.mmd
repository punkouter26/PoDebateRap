classDiagram
    class Rapper {
        +string Id
        +string Name
        +string Style
        +string ImageUrl
        +string Era
        +string VoiceId
    }
    
    class Topic {
        +string Id
        +string Title
        +string Source
        +DateTime CreatedAt
        +bool IsTrending
    }
    
    class DebateRequest {
        +string Rapper1Id
        +string Rapper2Id
        +string Topic
        +Validate() bool
    }
    
    class DebateResponse {
        +string DebateId
        +string Rapper1Name
        +string Rapper2Name
        +string Topic
        +DateTime StartedAt
        +bool Success
        +string ErrorMessage
    }
    
    class DebateTurn {
        +string DebateId
        +int TurnNumber
        +string RapperId
        +string RapperName
        +string Verse
        +string AudioBase64
        +DateTime Timestamp
        +int TokenCount
        +int AudioDurationMs
    }
    
    class JudgmentResponse {
        +string WinnerId
        +string WinnerName
        +string Reasoning
        +int Rapper1Score
        +int Rapper2Score
        +DateTime JudgedAt
    }
    
    class VerseRequest {
        +string RapperId
        +string Topic
        +string OpponentId
        +string Context
        +int MaxBars
    }
    
    class VerseResponse {
        +string Verse
        +int TokenCount
        +double ResponseTimeMs
        +bool Success
        +string ErrorMessage
    }
    
    class HealthStatus {
        +string Service
        +string Status
        +string Message
        +DateTime Timestamp
        +Dictionary Details
    }
    
    class NewsHeadline {
        +string Title
        +string Description
        +string Source
        +string Url
        +DateTime PublishedAt
        +string ImageUrl
    }
    
    class DebateStats {
        +string DebateId
        +int TotalTurns
        +double DurationSeconds
        +int TotalTokensUsed
        +int TotalAudioDurationMs
        +Dictionary RapperTurnCounts
    }
    
    %% Relationships
    DebateRequest "1" --> "2" Rapper : selects
    DebateRequest --> Topic : debates
    DebateResponse --> DebateRequest : created from
    DebateTurn "many" --> "1" DebateResponse : belongs to
    DebateTurn --> Rapper : spoken by
    JudgmentResponse --> DebateResponse : judges
    JudgmentResponse --> Rapper : declares winner
    VerseRequest --> Rapper : for
    VerseRequest --> Topic : about
    VerseResponse --> VerseRequest : result of
    DebateTurn --> VerseResponse : contains
    NewsHeadline --> Topic : creates
    DebateStats --> DebateResponse : analyzes
    
    note for Rapper "10 legendary rappers:\nEminem, Tupac, Nas, Jay-Z,\nKendrick, Biggie, Andre 3000,\nLauryn Hill, Snoop, Ice Cube"
    note for DebateTurn "Contains both the verse text\nand base64-encoded MP3 audio"
    note for JudgmentResponse "AI judge analyzes:\n1. Lyrical skill\n2. Argumentation\n3. Style and delivery"
